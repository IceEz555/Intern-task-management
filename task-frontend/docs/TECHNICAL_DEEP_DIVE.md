# üß† Technical Deep Dive: Project & Task System Integration
*‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô (Project & Task Management)*

---

## 1. üèóÔ∏è Architecture Overview (‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á)

‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö **Client-Server** ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô **RESTful API** ‡∏î‡πâ‡∏ß‡∏¢ Format **JSON**

| Layer | Technology | ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å |
| :--- | :--- | :--- |
| **Frontend** | React (Vite) | ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•, ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å User, ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API |
| **Backend** | Node.js (Express) | ‡∏£‡∏±‡∏ö Request, ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• Logic, ‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö Database |
| **Database** | PostgreSQL | ‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏≤‡∏ß‡∏£ (Projects, Tasks, Users) |

---

## 2. üîç Feature: View Project Details (‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå)

### Flow ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
1. **User Action**: User ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå (‡πÄ‡∏ä‡πà‡∏ô ID = 6) ‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
2. **Frontend Routing**: URL ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô `/ProjectDetails/6`

### 2.1 Frontend Implementation (`ProjectDetails.jsx`)
*   **Step 1: Get ID**: ‡πÉ‡∏ä‡πâ `useParams()` ‡∏î‡∏∂‡∏á‡πÄ‡∏•‡∏Ç `6` ‡∏à‡∏≤‡∏Å URL ‡∏°‡∏≤‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ `projectId`
*   **Step 2: Fetch API**: ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Component ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (`useEffect`) ‡∏à‡∏∞‡∏¢‡∏¥‡∏á Request ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Backend
    ```javascript
    fetch(`http://localhost:5000/api/projects/6`)
    ```

### 2.2 Backend Processing (`projectController.js`)
*   **Route**: `GET /api/projects/:id`
*   **Controller Logic**: `getProjectById` ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô 3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:
    1.  **Query Project**: `SELECT * FROM projects WHERE project_id = 6`
    2.  **Query Tasks**:
        *   ‡∏î‡∏∂‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå 6
        *   **JOIN users**: ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏ä‡∏∑‡πà‡∏≠ (`fullname`) ‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ (`avatar`) ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏á‡∏≤‡∏ô‡∏°‡∏≤‡∏î‡πâ‡∏ß‡∏¢ (Table `tasks` ‡∏õ‡∏Å‡∏ï‡∏¥‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏Ñ‡πà `assignee_id`)
    3.  **Query Members**: ‡∏î‡∏∂‡∏á‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏µ‡∏°‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á `project_members` (‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏™‡πà Try-Catch ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Error ‡∏´‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°)
*   **Response**: ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á 3 ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏õ‡πá‡∏ô JSON Object ‡∏Å‡πâ‡∏≠‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö

---

## 3. üìù Feature: Create New Task (‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà)

### Flow ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
User ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "Add Task" -> ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -> ‡∏Å‡∏î "Save"

### 3.1 Frontend Implementation (`CreateTaskModal.jsx`)
*   **Data Preparation**:
    *   ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å Form: Title, Description, Priority
    *   **Hidden Data**: `project_id` (‡∏£‡∏±‡∏ö‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏°‡πà ‡∏î‡∏π‡∏à‡∏≤‡∏Å URL ‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÑ‡∏´‡∏ô)
*   **Send Request**:
    ```javascript
    // POST http://localhost:5000/api/tasks
    body: {
        "title": "Design Logo",
        "project_id": 6,  // <--- ‡∏à‡∏∏‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç! ‡∏´‡πâ‡∏≤‡∏°‡∏Ç‡∏≤‡∏î
        "assignee_id": 5
    }
    ```
*   **Post-Action**:
    *   ‡πÄ‡∏°‡∏∑‡πà‡∏≠Backend ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö Success (200/201)
    *   ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `onTaskCreated()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏°‡πà (`ProjectDetails`) **‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ** (Re-fetch) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ User ‡πÄ‡∏´‡πá‡∏ô‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÇ‡∏ú‡∏•‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î Refresh

### 3.2 Backend Processing (`taskController.js`)
*   **Route**: `POST /api/tasks`
*   **Controller Logic**: `createTask`
    *   ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å Body
    *   **SQL Insert**: `INSERT INTO tasks (...) VALUES (...)`
    *   ‡∏•‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á `tasks` ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

---

## 4. üóÑÔ∏è Database Schema Involved (‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á)

| Table | Relevant Columns | Note |
| :--- | :--- | :--- |
| **projects** | `project_id`, `project_name` | ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏°‡πà |
| **tasks** | `task_id`, `title`, `project_id (FK)`, `assignee_id (FK)` | ‡πÄ‡∏Å‡πá‡∏ö‡∏á‡∏≤‡∏ô ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ô |
| **users** | `user_id`, `fullname`, `avatar` | ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ô |
| **project_members** | `project_id`, `user_id`, `role` | (‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤) ‡πÄ‡∏Å‡πá‡∏ö‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô |

---

## 5. üí° Key Takeaways (‡∏à‡∏∏‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≥)
1.  **Frontend-Backend Sync**: ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏™‡∏°‡∏≠ (‡πÄ‡∏ä‡πà‡∏ô `projectId` ‡πÉ‡∏ô Frontend vs `id` ‡πÉ‡∏ô Backend Route)
2.  **JOIN is Key**: ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏ô‡πÉ‡∏ô Task List ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ SQL JOIN ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á Task ‡πÄ‡∏£‡∏≤‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏Ñ‡πà ID
3.  **Real-time Feel**: ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á Re-fetch ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à (‡∏ú‡πà‡∏≤‡∏ô Callback prop) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ UX ‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏ö‡∏ö Real-time
